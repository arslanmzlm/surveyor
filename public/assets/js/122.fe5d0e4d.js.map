{"version":3,"file":"assets/js/122.fe5d0e4d.js","mappings":"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","sources":["webpack://surveyor-front/./src/views/admin/template/Create.vue","webpack://surveyor-front/./src/views/admin/template/Create.vue?3ecc"],"sourcesContent":["<template>\r\n  <breadcrumb-list :items=\"breadcrumbs\"></breadcrumb-list>\r\n\r\n  <div class=\"grid grid-cols-10 gap-4 sm:gap-5 lg:gap-6\">\r\n    <div class=\"col-span-full space-y-6 2xl:col-span-2\">\r\n      <div class=\"p-4 card sm:p-5\">\r\n        <div>\r\n          <label for=\"textName\" class=\"font-medium\">{{\r\n            $t(\"attributes.survey_name\")\r\n          }}</label>\r\n          <div class=\"mt-1.5\">\r\n            <input\r\n              v-model=\"template.name\"\r\n              id=\"textName\"\r\n              name=\"template_name\"\r\n              type=\"text\"\r\n              class=\"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 form-input peer hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent\"\r\n              autocomplete=\"off\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mt-3\">\r\n          <label for=\"textDescription\" class=\"font-medium\">{{\r\n            $t(\"attributes.survey_description\")\r\n          }}</label>\r\n          <div class=\"mt-1.5\">\r\n            <textarea\r\n              v-model=\"template.description\"\r\n              id=\"textDescription\"\r\n              class=\"w-full resize-y rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 form-textarea form-input hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"sticky top-[76px] space-y-6\">\r\n        <div class=\"p-4 card space-y-4 sm:p-5\">\r\n          <div\r\n            v-for=\"questionType in questionTypes\"\r\n            :key=\"questionType.id\"\r\n            class=\"flex justify-between rounded border border-slate-200 dark:border-navy-600\"\r\n          >\r\n            <button\r\n              class=\"flex grow flex-col p-3 text-start\"\r\n              @click=\"template.addQuestion(questionType)\"\r\n            >\r\n              <span class=\"font-medium\">{{ questionType.label }}</span>\r\n              <small>{{ questionType.description }}</small>\r\n            </button>\r\n\r\n            <button\r\n              v-if=\"questionType.isUpdatable\"\r\n              key=\"isQuestionTypeCustom\"\r\n              type=\"button\"\r\n              class=\"p-3 text-slate-400 transition-colors close hover:text-slate-800\"\r\n              @click=\"deleteTypeModal(questionType)\"\r\n              :title=\"$t('modal.titles.delete_question_type')\"\r\n            >\r\n              <i class=\"fa fa-times fa-lg\"></i>\r\n            </button>\r\n\r\n            <button\r\n              type=\"button\"\r\n              class=\"p-3 text-slate-400 transition-colors close hover:text-slate-800\"\r\n              @click=\"addMultipleQuestionsModal(questionType)\"\r\n              :title=\"$t('modal.titles.add_multiple_questions')\"\r\n            >\r\n              <i class=\"fa fa-regular fa-square-plus fa-lg\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"p-4 card sm:p-5\">\r\n          <div>\r\n            <v-button @click=\"submit\">{{ $t(\"labels.submit\") }}</v-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-span-full flex flex-col gap-5 2xl:col-span-8\">\r\n      <div class=\"grow p-4 card sm:p-5\">\r\n        <draggable\r\n          :list=\"template.getRenderAbleQuestions()\"\r\n          group=\"questions\"\r\n          item-key=\"order\"\r\n          :component-data=\"{\r\n            tag: 'div',\r\n            type: 'transition-group',\r\n            name: !drag ? 'flip-list' : null,\r\n          }\"\r\n          v-bind=\"dragOptions\"\r\n          handle=\".handle\"\r\n          class=\"grow space-y-4\"\r\n          @start=\"drag = true\"\r\n          @end=\"drag = false\"\r\n          @change=\"template.reOrder()\"\r\n          :scroll-sensitivity=\"200\"\r\n          :force-fallback=\"true\"\r\n          :fallback-tolerance=\"1\"\r\n        >\r\n          <template #item=\"{ element, index }\">\r\n            <question-input\r\n              v-if=\"element.isRenderAble\"\r\n              :template=\"template\"\r\n              :question=\"element\"\r\n              :index=\"index\"\r\n            ></question-input>\r\n          </template>\r\n        </draggable>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <v-modal ref=\"deleteQuestionTypeModal\">\r\n    <template #title>{{ $t(\"modal.titles.delete_question_type\") }}</template>\r\n    <template #body>{{ $t(\"modal.messages.delete\") }}</template>\r\n    <template #buttons>\r\n      <v-button color=\"danger\" @click=\"deleteType\"\r\n        >{{ $t(\"labels.delete\") }}\r\n      </v-button>\r\n    </template>\r\n  </v-modal>\r\n\r\n  <v-modal ref=\"addMultipleQuestionsModal\">\r\n    <template #title>{{ $t(\"modal.titles.add_multiple_questions\") }}</template>\r\n    <template #body>\r\n      <div class=\"text-start space-y-3\">\r\n        <div>\r\n          <label for=\"numberAddMultipleQuestionCount\" class=\"font-medium\">{{\r\n            $t(\"attributes.question_count\")\r\n          }}</label>\r\n          <input\r\n            v-model=\"addMultipleQuestionCount\"\r\n            id=\"numberAddMultipleQuestionCount\"\r\n            class=\"form-input mt-2 w-full rounded-lg border border-slate-300 bg-transparent p-2 text-xs+ placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent\"\r\n            type=\"number\"\r\n            min=\"1\"\r\n            max=\"99\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </template>\r\n    <template #buttons>\r\n      <v-button color=\"success\" @click=\"addMultipleQuestions\"\r\n        >{{ $t(\"labels.submit\") }}\r\n      </v-button>\r\n    </template>\r\n  </v-modal>\r\n</template>\r\n\r\n<script>\r\nimport Template from \"@/models/Template\";\r\nimport draggable from \"vuedraggable\";\r\nimport QuestionInput from \"@/components/QuestionInputs/QuestionInput.vue\";\r\nimport QuestionTypeCollection from \"@/collections/QuestionTypeCollection\";\r\nimport ModelRequest from \"@/request/ModelRequest\";\r\n\r\nexport default {\r\n  name: \"TemplateCreate\",\r\n  components: { draggable, QuestionInput },\r\n  data() {\r\n    return {\r\n      breadcrumbs: [\r\n        { title: this.$t(\"titles.templates\"), route: \"admin.templates\" },\r\n        {\r\n          title: this.$t(\"models.template.add\"),\r\n          active: true,\r\n        },\r\n      ],\r\n      drag: false,\r\n      deleteQuestionType: null,\r\n      addMultipleQuestionType: null,\r\n      addMultipleQuestionCount: 1,\r\n      questionTypes: new QuestionTypeCollection(),\r\n      template: new Template(),\r\n      request: new ModelRequest(),\r\n    };\r\n  },\r\n  created() {\r\n    this.questionTypes.fetch();\r\n\r\n    this.request.bind(this.template);\r\n  },\r\n  methods: {\r\n    deleteTypeModal(model) {\r\n      this.$refs.deleteQuestionTypeModal.toggle();\r\n      this.deleteQuestionType = model;\r\n    },\r\n    deleteType() {\r\n      const request = new ModelRequest(this.deleteQuestionType);\r\n      const questionTypeId = this.deleteQuestionType.id;\r\n      const mainQuestionTypeId = this.deleteQuestionType.main_question_type_id;\r\n\r\n      request.delete().then(() => {\r\n        this.$refs.deleteQuestionTypeModal.toggle();\r\n\r\n        this.template.removedQuestionType(questionTypeId, mainQuestionTypeId);\r\n\r\n        this.questionTypes.fetch();\r\n      });\r\n    },\r\n    addMultipleQuestionsModal(questionType) {\r\n      this.$refs.addMultipleQuestionsModal.toggle();\r\n      this.addMultipleQuestionType = questionType;\r\n    },\r\n    addMultipleQuestions() {\r\n      let count = this.addMultipleQuestionCount;\r\n\r\n      if (count < 0 || count > 50) {\r\n        return;\r\n      }\r\n\r\n      for (let i = 0; i < count; i++) {\r\n        this.template.addQuestion(this.addMultipleQuestionType);\r\n      }\r\n\r\n      this.addMultipleQuestionType = null;\r\n      this.addMultipleQuestionCount = 1;\r\n      this.$refs.addMultipleQuestionsModal.toggle();\r\n    },\r\n    submit() {\r\n      this.request.store({\r\n        redirect: { name: \"admin.template.edit\" },\r\n        idForRedirect: true,\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    dragOptions() {\r\n      return {\r\n        animation: 200,\r\n        disabled: false,\r\n        ghostClass: \"ghost\",\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.flip-list-move {\r\n  transition: transform 0.5s;\r\n}\r\n\r\n.no-move {\r\n  transition: transform 0s;\r\n}\r\n\r\n.ghost {\r\n  opacity: 0.5;\r\n  @apply bg-amber-100;\r\n}\r\n</style>\r\n","import { render } from \"./Create.vue?vue&type=template&id=437c90b4\"\nimport script from \"./Create.vue?vue&type=script&lang=js\"\nexport * from \"./Create.vue?vue&type=script&lang=js\"\n\nimport \"./Create.vue?vue&type=style&index=0&id=437c90b4&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.3.0_vue@3.3.7_webpack@5.89.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","for","_createElementVNode","_hoisted_14","_hoisted_17","_createVNode","_component_breadcrumb_list","items","$data","breadcrumbs","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_ctx","$t","_hoisted_5","template","name","$event","id","type","autocomplete","_hoisted_6","_hoisted_7","_hoisted_8","description","rows","_hoisted_9","_hoisted_10","_createElementBlock","_Fragment","_renderList","questionTypes","questionType","key","onClick","addQuestion","_hoisted_12","label","isUpdatable","$options","deleteTypeModal","title","addMultipleQuestionsModal","_hoisted_19","_component_v_button","submit","_hoisted_20","_hoisted_21","_component_draggable","_mergeProps","list","getRenderAbleQuestions","group","drag","dragOptions","handle","onStart","_cache","onEnd","onChange","reOrder","item","_withCtx","element","index","isRenderAble","_createBlock","_component_question_input","question","_component_v_modal","ref","body","buttons","color","deleteType","_hoisted_22","_hoisted_23","addMultipleQuestionCount","min","max","addMultipleQuestions","components","draggable","QuestionInput","data","this","route","active","deleteQuestionType","addMultipleQuestionType","QuestionTypeCollection","Template","request","ModelRequest","created","fetch","bind","methods","model","$refs","deleteQuestionTypeModal","toggle","questionTypeId","mainQuestionTypeId","main_question_type_id","delete","then","removedQuestionType","count","i","store","redirect","idForRedirect","computed","animation","disabled","ghostClass","__exports__","render"],"sourceRoot":""}