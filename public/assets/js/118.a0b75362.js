"use strict";(self["webpackChunksurveyor_front"]=self["webpackChunksurveyor_front"]||[]).push([[118],{4792:function(e,t,s){var l=s(4677);class o{constructor(){this.toast=(0,l.pm)(),this.config={position:"bottom-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,showCloseButtonOnHover:!1,closeButton:"button",icon:!0}}fire(e,t="info",s={}){this.toast[t](e,{...this.config,...s})}}t["Z"]=new o},3118:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var l=s(3396),o=s(7139),i=s(9242);const a=(0,l._)("i",{class:"fa fa-plus fa-sm fa-fw"},null,-1),r={class:"py-3"},n={class:"grid grid-cols-1"},d={class:"block"},c={for:"textSearch"},u={class:"w-full mt-1.5"},m=["placeholder"],p={class:"font-medium text-slate-700 dark:text-navy-100"},f={class:"font-medium text-slate-700 dark:text-navy-100"},b={class:"font-medium text-slate-700 dark:text-navy-100"},h={class:"font-medium text-slate-700 dark:text-navy-100"},g={class:"flex space-x-2"},w={class:"mt-6 grid gap-8 lg:grid-cols-2 2xl:grid-cols-3"},v={class:"grid gap-4 overflow-hidden p-4 h-[500px] template-preview pointer-events-none"},y={class:"flex w-full items-center justify-between rounded-b border-t border-slate-200 bg-white p-3 py-4"},_=["title"],k={class:"text-xs line-clamp-1 mt-1"},x={class:"inline-flex gap-2"};function $(e,t,s,$,z,W){const C=(0,l.up)("router-link"),D=(0,l.up)("breadcrumb-list"),Z=(0,l.up)("v-icon"),H=(0,l.up)("v-button"),U=(0,l.up)("data-table"),q=(0,l.up)("survey-input"),I=(0,l.up)("v-modal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(D,{items:z.breadcrumbs},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{to:{name:"template.create"},class:"font-medium text-white btn bg-info hover:bg-info-focus focus:bg-info-focus active:bg-info-focus/90"},{default:(0,l.w5)((()=>[a,(0,l.Uk)(" "+(0,o.zw)(e.$t("labels.add")),1)])),_:1},8,["to"])])),_:1},8,["items"]),(0,l.Wm)(U,{titles:z.titles,repository:z.repository},{filters:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",n,[(0,l._)("div",d,[(0,l._)("label",c,(0,o.zw)(e.$t("attributes.name")),1),(0,l._)("div",u,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>z.repository.filters.search=e),id:"textSearch",type:"text",placeholder:e.$t("placeholder.search"),class:"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 form-input hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"},null,8,m),[[i.nr,z.repository.filters.search]])])])])])])),body:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(z.repository.getItems(),(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",p,(0,o.zw)(t.id),1),(0,l._)("td",f,[(0,l._)("span",null,(0,o.zw)(t.user_id),1)]),(0,l._)("td",b,[(0,l._)("span",null,(0,o.zw)(t.name),1)]),(0,l._)("td",h,[(0,l._)("span",null,(0,o.zw)(t.description),1)]),(0,l._)("td",null,[(0,l._)("div",g,[(0,l.Wm)(C,{to:{name:"template.edit",params:{id:t.id}},title:e.$t("labels.edit"),class:"h-10 w-10 rounded-full p-0 font-medium text-white btn bg-primary hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover:bg-accent-focus dark:focus:bg-accent-focus dark:active:bg-accent/90"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{name:"pencil-square",size:"5"})])),_:2},1032,["to","title"]),(0,l.Wm)(H,{color:"danger",title:e.$t("labels.delete"),size:10,icon:"",class:"rounded-full p-0",onClick:e=>W.deleteModal(t.id)},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{name:"archive-delete",size:"5"})])),_:2},1032,["title","onClick"]),(0,l.Wm)(C,{to:{name:"template.show",params:{id:t.id}},title:e.$t("labels.preview"),class:"h-10 w-10 rounded-full p-0 font-medium text-white btn bg-info hover:bg-info-focus focus:bg-info-focus active:bg-info-focus/90"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{name:"document-text",size:"5"})])),_:2},1032,["to","title"])])])])))),128))])),_:1},8,["titles","repository"]),(0,l._)("div",w,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.templates,((t,s)=>((0,l.wg)(),(0,l.iD)("div",{key:s,class:"rounded border border-slate-200"},[(0,l._)("div",v,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.getRenderAbleQuestions(),((e,s)=>((0,l.wg)(),(0,l.iD)("div",{key:s,class:"p-4 card"},[(0,l.Wm)(q,{template:t,question:e},null,8,["template","question"])])))),128))]),(0,l._)("div",y,[(0,l._)("div",null,[(0,l._)("p",{class:"text-xl font-semibold line-clamp-1",title:t.name},(0,o.zw)(t.name),9,_),(0,l._)("p",k,(0,o.zw)(t.description),1)]),(0,l._)("div",x,[(0,l.Wm)(C,{to:{name:"template.edit",params:{id:t.id}},title:e.$t("labels.edit"),class:"h-10 w-10 rounded-full p-0 font-medium text-white btn bg-primary hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover:bg-accent-focus dark:focus:bg-accent-focus dark:active:bg-accent/90"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{name:"pencil-square",size:"5"})])),_:2},1032,["to","title"]),(0,l.Wm)(H,{color:"danger",title:e.$t("labels.delete"),size:10,icon:"",class:"rounded-full p-0",onClick:e=>W.deleteModal(t.id)},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{name:"archive-delete",size:"5"})])),_:2},1032,["title","onClick"]),(0,l.Wm)(C,{to:{name:"template.show",params:{id:t.id}},title:e.$t("labels.preview"),class:"h-10 w-10 rounded-full p-0 font-medium text-white btn bg-info hover:bg-info-focus focus:bg-info-focus active:bg-info-focus/90"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{name:"document-text",size:"5"})])),_:2},1032,["to","title"])])])])))),128))]),(0,l.Wm)(I,{ref:"modal"},{title:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("modal.titles.delete")),1)])),body:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("modal.messages.delete")),1)])),buttons:(0,l.w5)((()=>[(0,l.Wm)(H,{color:"danger",onClick:W.deleteData},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("labels.delete")),1)])),_:1},8,["onClick"])])),_:1},512)],64)}s(7658);var z=s(306),W=s(2042),C=s(4792),D=s(9421),Z=s(7617),H={name:"TemplateList",components:{SurveyInput:Z.Z},data(){return{breadcrumbs:[{title:this.$t("titles.templates"),active:!0}],titles:[{column:"id",title:"#",sortable:!0},{column:"user_id",title:this.$t("attributes.user_id")},{column:"name",title:this.$t("attributes.template"),sortable:!0},{column:"description",title:this.$t("attributes.description")},{title:this.$t("labels.actions")}],repository:new z.Z("/templates",{search:""}),delete:null}},methods:{deleteModal(e){this.delete=e,this.$refs.modal.toggle()},deleteData(){W.Z.post(`/template/delete/${this.delete}`).then((()=>{C.Z.fire(this.$t("response.success.delete"),"success"),this.$refs.modal.toggle(),this.repository.fetch()})).catch((e=>{C.Z.fire(this.$t("response.errors."+e.response.status),"error")}))}},created(){this.repository.fetch()},computed:{templates(){let e=[];return this.repository.getItems()&&this.repository.getItems().forEach((t=>{e.push(new D.Z(t))})),e}}},U=s(89);const q=(0,U.Z)(H,[["render",$]]);var I=q}}]);
//# sourceMappingURL=118.a0b75362.js.map