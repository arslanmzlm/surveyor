(self["webpackChunksurveyor_front"]=self["webpackChunksurveyor_front"]||[]).push([[74],{5109:function(t,e,s){"use strict";var r=s(3316),i=s(4905);const{t:o,te:a}=i["default"].global;class n{constructor(){(0,r.Z)(this,"errors",{}),(0,r.Z)(this,"status",null),(0,r.Z)(this,"message","")}has(t){for(const e in this.errors)if(e===t)return!0;return!1}any(){return null!==this.errors&&void 0!==this.errors&&Object.keys(this.errors).length>0}get(t){return this.errors[t]?this.errors[t][0]:null}record(t){this.status=t.response.status??null,this.errors=void 0!==t.response.data.errors?t.response.data.errors:{},this.message=void 0!==t.response.data.message?t.response.data.message:""}clear(t=null){if(t)return delete this.errors[t],void(this.errors.length||(this.status=null,this.message=""));this.errors={},this.status=null,this.message=""}getMessage(){return null!==this.status&&a("response.errors."+this.status)?o("response.errors."+this.status):this.message}}e.Z=n},7084:function(t,e,s){"use strict";s.d(e,{Z:function(){return m}});var r=s(3316),i=(s(1379),s(6216)),o=s(4905),a=s(4850),n=s(5109),l=s(8805);const u=1500;var d=s(7342),c=s(9756);const{t:f}=o["default"].global;class h{constructor(t=null){(0,r.Z)(this,"errors",new n.Z),(0,r.Z)(this,"model",null),(0,r.Z)(this,"submittable",!0),(0,r.Z)(this,"defaultOptions",{showSuccessToast:!0,showFailToast:!0}),this.model=t}bind(t){this.model=t}getData(){const t=this.model?.getData();return this.hasFile(this.model)?(0,d.serialize)(t,{indices:!0,booleansAsIntegers:!0}):t}hasFile(t){for(const e in t){if(t[e]instanceof File||t[e]instanceof Blob)return!0;if(("object"===typeof t[e]&&null!==t[e]||(0,c.isArray)(t[e]))&&this.hasFile(t[e]))return!0}return!1}submit(t,e,s){this.beforeSubmit();const r=this.model,o=this.getData();return new Promise(((n,d)=>{i.Z[t](e,o).then((t=>{if(s.showSuccessToast&&a.Z.fire(f(`response.success.${s.action}`),"success"),"undefined"!==typeof s.action&&["store","update"].includes(s.action)&&r.saveAttributes(t.data),"undefined"!==typeof s.redirect){const t=s.redirect;s.idForRedirect&&this.model&&(t.params={id:this.model.id}),setTimeout((()=>{l.Z.push(t)}),u)}return n(t)})).catch((t=>(this.errors.record(t),s.showFailToast&&a.Z.fire(this.errors.getMessage(),"error"),d(t)))).finally((()=>{this.afterSubmit()}))}))}beforeSubmit(){this.submittable=!1}afterSubmit(){this.submittable=!0}store(t={}){const e=this.model;return t={...this.defaultOptions,action:"store",...t},this.submit("post",`${e.getMainRoute()}/store`,t)}update(t={}){const e=this.model;return t={...this.defaultOptions,action:"update",...t},this.submit("post",`${e.getMainRoute()}/update/${e.id}`,t)}delete(t={}){const e=this.model;return t={...this.defaultOptions,action:"delete",...t},this.submit("delete",`${e.getMainRoute()}/delete/${e.id}`,t)}}var m=h},7342:function(t){function e(t){return void 0===t}function s(t){return null===t}function r(t){return"boolean"===typeof t}function i(t){return t===Object(t)}function o(t){return Array.isArray(t)}function a(t){return t instanceof Date}function n(t,s){return s?i(t)&&!e(t.uri):i(t)&&"number"===typeof t.size&&"string"===typeof t.type&&"function"===typeof t.slice}function l(t,e){return n(t,e)&&"string"===typeof t.name&&(i(t.lastModifiedDate)||"number"===typeof t.lastModified)}function u(t){return!e(t)&&t}function d(t,c,f,h){c=c||{},f=f||new FormData,c.indices=u(c.indices),c.nullsAsUndefineds=u(c.nullsAsUndefineds),c.booleansAsIntegers=u(c.booleansAsIntegers),c.allowEmptyArrays=u(c.allowEmptyArrays),c.noAttributesWithArrayNotation=u(c.noAttributesWithArrayNotation),c.noFilesWithArrayNotation=u(c.noFilesWithArrayNotation),c.dotsForObjectNotation=u(c.dotsForObjectNotation);const m="function"===typeof f.getParts;return e(t)||(s(t)?c.nullsAsUndefineds||f.append(h,""):r(t)?c.booleansAsIntegers?f.append(h,t?1:0):f.append(h,t):o(t)?t.length?t.forEach(((t,e)=>{let s=h+"["+(c.indices?e:"")+"]";(c.noAttributesWithArrayNotation||c.noFilesWithArrayNotation&&l(t,m))&&(s=h),d(t,c,f,s)})):c.allowEmptyArrays&&f.append(c.noAttributesWithArrayNotation?h:h+"[]",""):a(t)?f.append(h,t.toISOString()):i(t)&&!n(t,m)?Object.keys(t).forEach((e=>{const s=t[e];if(o(s))while(e.length>2&&e.lastIndexOf("[]")===e.length-2)e=e.substring(0,e.length-2);const r=h?c.dotsForObjectNotation?h+"."+e:h+"["+e+"]":e;d(s,c,f,r)})):f.append(h,t)),f}t.exports={serialize:d}},4074:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return $}});var r=s(3723),i=s(4386),o=s(4719);const a=(0,r._)("i",{class:"fa fa-plus fa-sm fa-fw"},null,-1),n={class:"py-3"},l={class:"grid grid-cols-1"},u={class:"block"},d={for:"textSearch"},c={class:"w-full mt-1.5"},f=["placeholder"],h={class:"font-medium text-slate-700 dark:text-navy-100"},m={class:"font-medium text-slate-700 dark:text-navy-100"},p={class:"font-medium text-slate-700 dark:text-navy-100"},b={class:"font-medium text-slate-700 dark:text-navy-100"},g={class:"flex space-x-2"};function y(t,e,s,y,w,v){const _=(0,r.up)("router-link"),k=(0,r.up)("breadcrumb-list"),A=(0,r.up)("v-icon"),$=(0,r.up)("v-button"),x=(0,r.up)("data-table"),W=(0,r.up)("v-modal");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(k,{items:w.breadcrumbs},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{to:{name:"admin.template.create"},class:"font-medium text-white btn bg-info hover:bg-info-focus focus:bg-info-focus active:bg-info-focus/90"},{default:(0,r.w5)((()=>[a,(0,r.Uk)(" "+(0,i.zw)(t.$t("labels.add")),1)])),_:1},8,["to"])])),_:1},8,["items"]),(0,r.Wm)(x,{titles:w.titles,collection:w.templates},{filters:(0,r.w5)((()=>[(0,r._)("div",n,[(0,r._)("div",l,[(0,r._)("div",u,[(0,r._)("label",d,(0,i.zw)(t.$t("attributes.name")),1),(0,r._)("div",c,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.templates.filters.search=t),id:"textSearch",type:"text",placeholder:t.$t("placeholder.search"),class:"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 form-input hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"},null,8,f),[[o.nr,w.templates.filters.search]])])])])])])),body:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.templates,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",h,(0,i.zw)(e.id),1),(0,r._)("td",m,[(0,r._)("span",null,(0,i.zw)(e.user_id),1)]),(0,r._)("td",p,[(0,r._)("span",null,(0,i.zw)(e.name),1)]),(0,r._)("td",b,[(0,r._)("span",null,(0,i.zw)(e.description),1)]),(0,r._)("td",null,[(0,r._)("div",g,[(0,r.Wm)(_,{to:{name:"admin.template.edit",params:{id:e.id}},title:t.$t("labels.edit"),class:"h-10 w-10 rounded-full p-0 font-medium text-white btn bg-primary hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover:bg-accent-focus dark:focus:bg-accent-focus dark:active:bg-accent/90"},{default:(0,r.w5)((()=>[(0,r.Wm)(A,{name:"pencil-square",size:"5"})])),_:2},1032,["to","title"]),(0,r.Wm)($,{color:"danger",title:t.$t("labels.delete"),size:10,icon:"",class:"rounded-full p-0",onClick:t=>v.deleteModal(e)},{default:(0,r.w5)((()=>[(0,r.Wm)(A,{name:"archive-delete",size:"5"})])),_:2},1032,["title","onClick"]),(0,r.Wm)(_,{to:{name:"admin.template.show",params:{id:e.id}},title:t.$t("labels.preview"),class:"h-10 w-10 rounded-full p-0 font-medium text-white btn bg-info hover:bg-info-focus focus:bg-info-focus active:bg-info-focus/90"},{default:(0,r.w5)((()=>[(0,r.Wm)(A,{name:"document-text",size:"5"})])),_:2},1032,["to","title"])])])])))),128))])),_:1},8,["titles","collection"]),(0,r.Wm)(W,{ref:"modal"},{title:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.$t("modal.titles.delete")),1)])),body:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.$t("modal.messages.delete")),1)])),buttons:(0,r.w5)((()=>[(0,r.Wm)($,{color:"danger",onClick:v.deleteData},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.$t("labels.delete")),1)])),_:1},8,["onClick"])])),_:1},512)],64)}var w=s(4930),v=s(7084),_={name:"TemplateList",data(){return{breadcrumbs:[{title:this.$t("titles.templates"),active:!0}],titles:[{column:"id",title:"#",sortable:!0},{column:"user_id",title:this.$t("attributes.user_id")},{column:"name",title:this.$t("attributes.template"),sortable:!0},{column:"description",title:this.$t("attributes.description")},{title:this.$t("labels.actions")}],templates:new w["default"],deleteSelect:null}},created(){this.templates.fetchWithFilters()},methods:{deleteModal(t){this.deleteSelect=t,this.$refs.modal.toggle()},deleteData(){const t=new v.Z(this.deleteSelect);t.delete().then((()=>{this.$refs.modal.toggle(),this.templates.fetchWithFilters()}))}}},k=s(8380);const A=(0,k.Z)(_,[["render",y]]);var $=A}}]);
//# sourceMappingURL=74.b6512286.js.map