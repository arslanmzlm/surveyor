(self["webpackChunksurveyor_front"]=self["webpackChunksurveyor_front"]||[]).push([[125],{7297:function(e){function t(e){return void 0===e}function r(e){return null===e}function s(e){return"boolean"===typeof e}function a(e){return e===Object(e)}function i(e){return Array.isArray(e)}function o(e){return e instanceof Date}function n(e,r){return r?a(e)&&!t(e.uri):a(e)&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.slice}function l(e,t){return n(e,t)&&"string"===typeof e.name&&(a(e.lastModifiedDate)||"number"===typeof e.lastModified)}function u(e){return!t(e)&&e}function d(e,c,p,m){c=c||{},p=p||new FormData,c.indices=u(c.indices),c.nullsAsUndefineds=u(c.nullsAsUndefineds),c.booleansAsIntegers=u(c.booleansAsIntegers),c.allowEmptyArrays=u(c.allowEmptyArrays),c.noAttributesWithArrayNotation=u(c.noAttributesWithArrayNotation),c.noFilesWithArrayNotation=u(c.noFilesWithArrayNotation),c.dotsForObjectNotation=u(c.dotsForObjectNotation);const h="function"===typeof p.getParts;return t(e)||(r(e)?c.nullsAsUndefineds||p.append(m,""):s(e)?c.booleansAsIntegers?p.append(m,e?1:0):p.append(m,e):i(e)?e.length?e.forEach(((e,t)=>{let r=m+"["+(c.indices?t:"")+"]";(c.noAttributesWithArrayNotation||c.noFilesWithArrayNotation&&l(e,h))&&(r=m),d(e,c,p,r)})):c.allowEmptyArrays&&p.append(c.noAttributesWithArrayNotation?m:m+"[]",""):o(e)?p.append(m,e.toISOString()):a(e)&&!n(e,h)?Object.keys(e).forEach((t=>{const r=e[t];if(i(r))while(t.length>2&&t.lastIndexOf("[]")===t.length-2)t=t.substring(0,t.length-2);const s=m?c.dotsForObjectNotation?m+"."+t:m+"["+t+"]":t;d(r,c,p,s)})):p.append(m,e)),p}e.exports={serialize:d}},3459:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(2042),a=r(6414);const{t:i,te:o}=a["default"].global;class n{constructor(){this.errors={},this.status=null,this.message=""}has(e){for(let t in this.errors)if(t===e)return!0;return!1}any(){return null!==this.errors&&void 0!==this.errors&&Object.keys(this.errors).length>0}get(e){if(this.errors[e])return this.errors[e][0]}record(e){this.errors=void 0!==e.errors?e.errors:{},this.message=void 0!==e.message?e.message:""}setStatus(e){this.status=e}clear(e=null){if(e)return delete this.errors[e],void(this.errors.length||(this.message=""));this.errors={},this.status=null,this.message=""}getMessage(){return null!==this.status&&o("response.errors."+this.status)?i("response.errors."+this.status):this.message}}var l=n,u=r(7297);class d{constructor(e){this.$data=e,this.$errors=new l,this.$canSubmit=!0,this.$multipart=!1,this.$json=!1,this.$id=e["id"]??null;for(let t in e)this[t]=e[t]}setData(e){for(let t in this.$data)delete this[t];this.$data=e;for(let t in e)this[t]=e[t];this.$id=e["id"]??null,this.clearError()}updateData(e,t=!0){for(let r in this.$data)this.$data[r]=e[r],this[r]=e[r];t&&(this.$id=e["id"]??null),this.clearError()}getId(){return this.$id}deleteData(){for(let e in this.$data)delete this[e];this.$data={}}setFile(e,t,r=!1){if("object"===typeof t){if(this.$multipart=!0,r)return this[e]=t,!0;if(t[0]instanceof File)return this[e]=t[0],!0}return!1}getHeaders(){let e={};return this.$multipart&&(e["Content-Type"]="multipart/form-data"),e}getData(){let e={};for(let t in this.$data)e[t]=this[t];return e}formData(){let e={indices:!0,nullsAsUndefineds:!0,booleansAsIntegers:!0,allowEmptyArrays:!0};return(0,u.serialize)(this.getData(),e)}jsonData(){let e={};for(let t in this.$data)null!==this[t]&&"undefined"!==typeof this[t]&&(e[t]=this[t]);return e}addData(e,t){this[e]?this[e]=t:(this[e]=t,this.$data[e]=t)}isSubmittable(){return this.$canSubmit}isUpdate(){return null!==this.$id}json(){return this.$json=!0,this}isJson(){return this.$json}post(e,t=null){return t?this.submit("post",`${e}/${t}`):this.submit("post",e)}put(e,t=null){return t?this.submit("put",`${e}/${t}`):this.submit("put",`${e}`)}patch(e,t=null){return t?this.submit("patch",`${e}/${t}`):this.submit("patch",e)}delete(e,t=null){return t?this.submit("delete",`${e}/${t}`):this.submit("delete",e)}submit(e,t){this.beforeSubmit();let r=this.isJson()?this.jsonData():this.formData(),a={headers:this.getHeaders()};return new Promise(((i,o)=>{s.Z[e](t,r,a).then((e=>{this.onSuccess(e.data),i(e.data)})).catch((e=>{this.onFail(e.response),o(e.response.data)})).finally((()=>{this.afterSubmit()}))}))}reset(){for(let e in this.$data)this[e]=this.$data[e];this.$errors.clear()}hasError(e){return this.$errors.has(e)}getErrorMessage(){return this.$errors.getMessage()}getError(e){return this.$errors.get(e)}clearError(e=null){return this.$errors.clear(e)}beforeSubmit(){this.$canSubmit=!1}afterSubmit(){this.$canSubmit=!0}onSuccess(e){this.isUpdate()&&this.updateData(e,!1),this.reset()}onFail(e){this.$errors.setStatus(e.status),void 0!==e.data&&this.$errors.record(e.data)}}var c=d},4792:function(e,t,r){"use strict";var s=r(4677);class a{constructor(){this.toast=(0,s.pm)(),this.config={position:"bottom-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,showCloseButtonOnHover:!1,closeButton:"button",icon:!0}}fire(e,t="info",r={}){this.toast[t](e,{...this.config,...r})}}t["Z"]=new a},6125:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var s=r(3396),a=r(9242),i=r(7139);const o={class:"grid grid-cols-12 gap-4 sm:gap-5 lg:gap-6"},n={class:"col-span-12 xl:col-span-8"},l={class:"p-4 card sm:p-5"},u={class:"space-y-4"},d={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},c={for:"textName"},p={class:"mt-1.5"},m={for:"textSurname"},h={class:"mt-1.5"},f={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},b={for:"textUsername"},g={class:"relative flex mt-1.5"},y={class:"pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:peer-focus:text-accent dark:text-navy-300"},v={for:"textPassword"},w={class:"relative flex mt-1.5"},_={class:"pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:peer-focus:text-accent dark:text-navy-300"},$={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},x={for:"textEmail"},k={class:"relative flex mt-1.5"},U={class:"pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:peer-focus:text-accent dark:text-navy-300"},A={for:"textPhone"},E={class:"relative flex mt-1.5"},W={class:"pointer-events-none absolute flex h-full w-10 items-center justify-center text-slate-400 peer-focus:text-primary dark:peer-focus:text-accent dark:text-navy-300"},z={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},S={for:"selectHospital"},j={class:"mt-1 w-full"},D={for:"selectClinic"},V={class:"mt-1 w-full"},F={class:"text-end"};function N(e,t,r,N,O,Z){const I=(0,s.up)("breadcrumb-list"),C=(0,s.up)("validation-feedback"),M=(0,s.up)("v-icon"),H=(0,s.up)("v-cleave"),P=(0,s.up)("vue-select"),B=(0,s.up)("v-button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(I,{items:O.breadcrumbs},null,8,["items"]),(0,s._)("div",o,[(0,s._)("div",n,[(0,s._)("div",l,[(0,s._)("form",{onInput:t[8]||(t[8]=e=>O.form.clearError(e.target.name)),onSubmit:t[9]||(t[9]=(0,a.iM)((e=>Z.submit()),["prevent"]))},[(0,s._)("div",u,[(0,s._)("div",d,[(0,s._)("div",null,[(0,s._)("label",c,(0,i.zw)(e.$t("attributes.first_name")),1),(0,s._)("div",p,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>O.form.first_name=e),id:"textName",name:"first_name",type:"text",class:"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 form-input peer hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"},null,512),[[a.nr,O.form.first_name]])]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(O.form.getError("first_name")),1)])),_:1})]),(0,s._)("div",null,[(0,s._)("label",m,(0,i.zw)(e.$t("attributes.surname")),1),(0,s._)("div",h,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>O.form.surname=e),id:"textSurname",name:"surname",type:"text",class:"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 form-input peer hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"},null,512),[[a.nr,O.form.surname]])]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(O.form.getError("surname")),1)])),_:1})])]),(0,s._)("div",f,[(0,s._)("div",null,[(0,s._)("label",b,(0,i.zw)(e.$t("attributes.username")),1),(0,s._)("span",g,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>O.form.username=e),id:"textUsername",name:"username",type:"text",class:"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 form-input peer hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"},null,512),[[a.nr,O.form.username]]),(0,s._)("span",y,[(0,s.Wm)(M,{name:"user",class:"h-6 w-6"})])]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(O.form.getError("username")),1)])),_:1})]),(0,s._)("div",null,[(0,s._)("label",v,(0,i.zw)(e.$t("attributes.password")),1),(0,s._)("span",w,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>O.form.password=e),id:"textPassword",name:"password",type:"password",class:"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 form-input peer hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"},null,512),[[a.nr,O.form.password]]),(0,s._)("span",_,[(0,s.Wm)(M,{name:"key",class:"h-6 w-6"})])]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(O.form.getError("password")),1)])),_:1})])]),(0,s._)("div",$,[(0,s._)("div",null,[(0,s._)("label",x,(0,i.zw)(e.$t("attributes.email")),1),(0,s._)("span",k,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>O.form.email=e),id:"textEmail",name:"email",type:"text",class:"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 form-input peer hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"},null,512),[[a.nr,O.form.email]]),(0,s._)("span",U,[(0,s.Wm)(M,{name:"envelope",class:"h-6 w-6"})])]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(O.form.getError("email")),1)])),_:1})]),(0,s._)("div",null,[(0,s._)("label",A,(0,i.zw)(e.$t("attributes.phone")),1),(0,s._)("span",E,[(0,s.Wm)(H,{modelValue:O.form.phone,"onUpdate:modelValue":t[5]||(t[5]=e=>O.form.phone=e),options:{phone:!0,phoneRegionCode:"tr"},id:"textPhone",name:"phone",type:"text",class:"w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 pl-9 placeholder:text-slate-400/70 form-input peer hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"},null,8,["modelValue"]),(0,s._)("span",W,[(0,s.Wm)(M,{name:"phone",class:"h-6 w-6"})])]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(O.form.getError("phone")),1)])),_:1})])]),(0,s._)("div",z,[(0,s._)("div",null,[(0,s._)("label",S,(0,i.zw)(e.$t("attributes.hospital")),1),(0,s._)("div",j,[(0,s.Wm)(P,{options:O.hospitals,label:"name",reduce:e=>e.id,modelValue:O.form.hospital_id,"onUpdate:modelValue":t[6]||(t[6]=e=>O.form.hospital_id=e),inputId:"selectHospital",name:"hospital_id",placeholder:e.$t("placeholder.select_hospital")},null,8,["options","reduce","modelValue","placeholder"])]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(O.form.getError("hospital_id")),1)])),_:1})]),(0,s._)("div",null,[(0,s._)("label",D,(0,i.zw)(e.$t("attributes.clinic")),1),(0,s._)("div",V,[(0,s.Wm)(P,{options:O.clinics,label:"name",reduce:e=>e.id,modelValue:O.form.clinic_id,"onUpdate:modelValue":t[7]||(t[7]=e=>O.form.clinic_id=e),inputId:"selectClinic",name:"clinic_id",placeholder:e.$t("placeholder.select_clinic")},null,8,["options","reduce","modelValue","placeholder"])]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(O.form.getError("clinic_id")),1)])),_:1})])]),(0,s._)("div",F,[(0,s.Wm)(B,{type:"submit",color:"primary",disabled:!O.form.isSubmittable()},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("labels.submit")),1)])),_:1},8,["disabled"])])])],32)])])])],64)}var O=r(2042),Z=r(3459),I=r(4792),C={name:"UserForm",props:{id:{type:String,required:!1}},data(){return{breadcrumbs:[{title:this.$t("titles.users"),route:"users"},{title:this.id?this.$t("models.user.edit"):this.$t("models.user.add"),active:!0}],hospitals:[],clinics:[],form:new Z.Z({first_name:"",surname:"",username:"",password:"",email:"",phone:"",hospital_id:null,clinic_id:null})}},async created(){await O.Z.get("/hospitals/all").then((({data:e})=>{this.hospitals=e})),await O.Z.get("/clinics/all").then((({data:e})=>{this.clinics=e})),this.id&&await O.Z.get(`/user/${this.id}`).then((({data:e})=>{this.form.updateData(e)}))},methods:{submit(){this.form.isUpdate()?this.form.post("/user/update",this.form.getId()).then((()=>{I.Z.fire(this.$t("response.success.update"),"success")})).catch((()=>{I.Z.fire(this.form.getErrorMessage(),"error")})):this.form.post("/user/store").then((()=>{I.Z.fire(this.$t("response.success.store"),"success")})).catch((()=>{I.Z.fire(this.form.getErrorMessage(),"error")}))}}},M=r(89);const H=(0,M.Z)(C,[["render",N]]);var P=H}}]);
//# sourceMappingURL=125.f482c49b.js.map